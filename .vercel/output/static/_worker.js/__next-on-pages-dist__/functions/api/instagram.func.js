var je=Object.defineProperty;var We=Object.getOwnPropertyDescriptor;var Xe=Object.getOwnPropertyNames;var Je=Object.prototype.hasOwnProperty;var Qe=(p,h)=>()=>(p&&(h=p(p=0)),h);var Te=(p,h,re,y)=>{if(h&&typeof h=="object"||typeof h=="function")for(let v of Xe(h))!Je.call(p,v)&&v!==re&&je(p,v,{get:()=>h[v],enumerable:!(y=We(h,v))||y.enumerable});return p},Ae=(p,h,re)=>(Te(p,h,"default"),re&&Te(re,h,"default"));var Ye=p=>Te(je({},"__esModule",{value:!0}),p);var oe={};import*as cs from"async_hooks";var Fe=Qe(()=>{Ae(oe,cs)});import{__getNamedExports as Ze}from"../../../__next-on-pages-dist__/webpack/c673c53d80de29a6b93afb6f0fc67099.js";import{__getNamedExports as et}from"../../../__next-on-pages-dist__/webpack/83e2c9000b9c230d76622f2902a4290c.js";import{__getNamedExports as tt}from"../../../__next-on-pages-dist__/manifest/88a389dd6c068190adb2efc795e4063c.js";var q=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/instagram"),t=Ze(q,q,q),nt=t.__chunk_8335,st=t.__chunk_6487,at=t.__chunk_9937,rt=t.__chunk_9874,ct=t.__chunk_9788,it=t.__chunk_9382,ot=t.__chunk_9143,_t=t.__chunk_9079,ut=t.__chunk_9062,lt=t.__chunk_9055,dt=t.__chunk_9005,mt=t.__chunk_8730,ht=t.__chunk_8622,pt=t.__chunk_8429,kt=t.__chunk_8343,ft=t.__chunk_8137,gt=t.__chunk_8108,yt=t.__chunk_8062,vt=t.__chunk_7935,xt=t.__chunk_7903,Et=t.__chunk_7855,wt=t.__chunk_7779,Rt=t.__chunk_7753,bt=t.__chunk_7621,St=t.__chunk_7530,It=t.__chunk_7472,Ct=t.__chunk_7426,Tt=t.__chunk_7411,At=t.__chunk_7404,Mt=t.__chunk_7205,qt=t.__chunk_6937,Dt=t.__chunk_6804,Pt=t.__chunk_6764,Ot=t.__chunk_6655,Nt=t.__chunk_6640,Ut=t.__chunk_6567,jt=t.__chunk_6534,Ft=t.__chunk_6464,Lt=t.__chunk_6243,$t=t.__chunk_6237,Bt=t.__chunk_6225,Gt=t.__chunk_6170,Ht=t.__chunk_6129,Vt=t.__chunk_6116,Kt=t.__chunk_5951,zt=t.__chunk_5932,Wt=t.__chunk_5835,Xt=t.__chunk_5691,Jt=t.__chunk_5565,Qt=t.__chunk_5481,Yt=t.__chunk_5455,Zt=t.__chunk_5421,en=t.__chunk_5375,tn=t.__chunk_5293,nn=t.__chunk_5103,sn=t.__chunk_4819,an=t.__chunk_4515,rn=t.__chunk_4479,cn=t.__chunk_4405,on=t.__chunk_4337,_n=t.__chunk_4319,un=t.__chunk_4318,ln=t.__chunk_4204,dn=t.__chunk_4195,mn=t.__chunk_4186,hn=t.__chunk_4181,pn=t.__chunk_4144,kn=t.__chunk_3936,fn=t.__chunk_3689,gn=t.__chunk_3543,yn=t.__chunk_3378,vn=t.__chunk_3337,xn=t.__chunk_3306,En=t.__chunk_3144,wn=t.__chunk_3050,Rn=t.__chunk_2732,bn=t.__chunk_2709,Sn=t.__chunk_2625,In=t.__chunk_2599,Cn=t.__chunk_2409,Tn=t.__chunk_2309,An=t.__chunk_2295,Mn=t.__chunk_2178,qn=t.__chunk_1562,Dn=t.__chunk_1544,Pn=t.__chunk_1489,On=t.__chunk_1438,Nn=t.__chunk_1411,Un=t.__chunk_1279,jn=t.__chunk_1251,Fn=t.__chunk_1092,Ln=t.__chunk_1049,$n=t.__chunk_940,Bn=t.__chunk_897,Gn=t.__chunk_501,Hn=t.__chunk_424,Vn=t.__chunk_252,Kn=t.__chunk_92,zn=t.__chunk_50,Wn=t.__chunk_7,Xn=t.__chunk_2,ae=et(q,q,q),Jn=ae.__chunk_5521,Qn=ae.__chunk_5356,Yn=ae.__chunk_7612,Zn=ae.__chunk_5912,es=ae.__chunk_2223,ts=ae.__chunk_2058,Me=tt(q,q,q),ns=Me.__NEXT_FONT_MANIFEST,ss=Me.__REACT_LOADABLE_MANIFEST,as=Me.__RSC_SERVER_MANIFEST,us=((p,h,re)=>(h._ENTRIES={},p.__RSC_SERVER_MANIFEST=as,h.__RSC_MANIFEST=h.__RSC_MANIFEST||{},h.__RSC_MANIFEST["/api/instagram/route"]={moduleLoading:{prefix:"/_next/"},ssrModuleMapping:{894:{"*":{id:"6346",name:"*",chunks:[],async:!1}},1295:{"*":{id:"7173",name:"*",chunks:[],async:!1}},4612:{"*":{id:"8327",name:"*",chunks:[],async:!1}},4774:{"*":{id:"2748",name:"*",chunks:[],async:!1}},4911:{"*":{id:"8827",name:"*",chunks:[],async:!1}},4970:{"*":{id:"7924",name:"*",chunks:[],async:!1}},6975:{"*":{id:"99",name:"*",chunks:[],async:!1}},7555:{"*":{id:"8243",name:"*",chunks:[],async:!1}},7997:{"*":{id:"8370",name:"*",chunks:[],async:!1}},8175:{"*":{id:"5587",name:"*",chunks:[],async:!1}},8393:{"*":{id:"5227",name:"*",chunks:[],async:!1}},9665:{"*":{id:"2763",name:"*",chunks:[],async:!1}}},edgeSSRModuleMapping:{},clientModules:{"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/client/components/builtin/global-error.js":{id:8393,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/esm/client/components/builtin/global-error.js":{id:8393,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/client/components/client-page.js":{id:894,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/esm/client/components/client-page.js":{id:894,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/client/components/client-segment.js":{id:4970,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/esm/client/components/client-segment.js":{id:4970,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js":{id:6975,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/esm/client/components/http-access-fallback/error-boundary.js":{id:6975,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/client/components/layout-router.js":{id:7555,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/esm/client/components/layout-router.js":{id:7555,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/client/components/metadata/async-metadata.js":{id:4911,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/esm/client/components/metadata/async-metadata.js":{id:4911,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/client/components/metadata/metadata-boundary.js":{id:9665,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/esm/client/components/metadata/metadata-boundary.js":{id:9665,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/client/components/render-from-template-context.js":{id:1295,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/esm/client/components/render-from-template-context.js":{id:1295,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/lib/metadata/generate/icon-mark.js":{id:8175,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/dist/esm/lib/metadata/generate/icon-mark.js":{id:8175,name:"*",chunks:[],async:!1},'/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/font/google/target.css?{"path":"src/app/layout.tsx","import":"Geist","arguments":[{"variable":"--font-geist-sans","subsets":["latin"]}],"variableName":"geistSans"}':{id:4147,name:"*",chunks:["177","static/chunks/app/layout-53986216081c9ca1.js"],async:!1},'/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/node_modules/next/font/google/target.css?{"path":"src/app/layout.tsx","import":"Geist_Mono","arguments":[{"variable":"--font-geist-mono","subsets":["latin"]}],"variableName":"geistMono"}':{id:8489,name:"*",chunks:["177","static/chunks/app/layout-53986216081c9ca1.js"],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/src/app/globals.css":{id:347,name:"*",chunks:["177","static/chunks/app/layout-53986216081c9ca1.js"],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/src/app/page.tsx":{id:4774,name:"*",chunks:["261","static/chunks/261-23213edf9beddb04.js","974","static/chunks/app/page-0fc3a12e5e91c28d.js"],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/src/app/blog/page.js":{id:7997,name:"*",chunks:[],async:!1},"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/src/app/especialidades/page.js":{id:4612,name:"*",chunks:[],async:!1}},entryCSSFiles:{"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/src/":[],"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/src/app/layout":[{inlined:!1,path:"static/css/77bddf06ab588b7d.css"}],"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/src/app/page":[{inlined:!1,path:"static/css/374002491023c267.css"}],"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/src/app/api/instagram/route":[]},rscModuleMapping:{347:{"*":{id:"1135",name:"*",chunks:[],async:!1}},894:{"*":{id:"6444",name:"*",chunks:[],async:!1}},1295:{"*":{id:"1307",name:"*",chunks:[],async:!1}},4612:{"*":{id:"5285",name:"*",chunks:[],async:!1}},4774:{"*":{id:"1204",name:"*",chunks:[],async:!1}},4911:{"*":{id:"2089",name:"*",chunks:[],async:!1}},4970:{"*":{id:"6042",name:"*",chunks:[],async:!1}},6975:{"*":{id:"9477",name:"*",chunks:[],async:!1}},7555:{"*":{id:"9345",name:"*",chunks:[],async:!1}},7997:{"*":{id:"8295",name:"*",chunks:[],async:!1}},8175:{"*":{id:"4817",name:"*",chunks:[],async:!1}},8393:{"*":{id:"6133",name:"*",chunks:[],async:!1}},9665:{"*":{id:"6577",name:"*",chunks:[],async:!1}}},edgeRscModuleMapping:{}},h.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-d239005d694a451a.js","static/chunks/4bd1b696-cf72ae8a39fa05aa.js","static/chunks/964-c3e49cf7341645bb.js","static/chunks/main-app-93c6c9f2ce43140c.js"],rootMainFilesTree:{},pages:{"/_app":["static/chunks/webpack-d239005d694a451a.js","static/chunks/framework-7c95b8e5103c9e90.js","static/chunks/main-506355656e4e719b.js","static/chunks/pages/_app-0a0020ddd67f79cf.js"],"/_error":["static/chunks/webpack-d239005d694a451a.js","static/chunks/framework-7c95b8e5103c9e90.js","static/chunks/main-506355656e4e719b.js","static/chunks/pages/_error-03529f2c21436739.js"]},ampFirstPages:[]},h.__BUILD_MANIFEST.lowPriorityFiles=["/static/i9KCXa0HPmha16VkTLXCE/_buildManifest.js",,"/static/i9KCXa0HPmha16VkTLXCE/_ssgManifest.js"],p.__REACT_LOADABLE_MANIFEST=ss,p.__NEXT_FONT_MANIFEST=ns,p.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var y={},v={};function s(r){var k=v[r];if(k!==void 0)return k.exports;var l=v[r]={exports:{}},x=!0;try{y[r](l,l.exports,s),x=!1}finally{x&&delete v[r]}return l.exports}s.m=y,s.amdO={},(()=>{var r=[];s.O=(k,l,x,g)=>{if(l){g=g||0;for(var f=r.length;f>0&&r[f-1][2]>g;f--)r[f]=r[f-1];r[f]=[l,x,g];return}for(var b=1/0,f=0;f<r.length;f++){for(var[l,x,g]=r[f],S=!0,I=0;I<l.length;I++)(!1&g||b>=g)&&Object.keys(s.O).every(X=>s.O[X](l[I]))?l.splice(I--,1):(S=!1,g<b&&(b=g));if(S){r.splice(f--,1);var C=x();C!==void 0&&(k=C)}}return k}})(),s.n=r=>{var k=r&&r.__esModule?()=>r.default:()=>r;return s.d(k,{a:k}),k},s.d=(r,k)=>{for(var l in k)s.o(k,l)&&!s.o(r,l)&&Object.defineProperty(r,l,{enumerable:!0,get:k[l]})},s.e=()=>Promise.resolve(),s.g=function(){if(typeof h=="object")return h;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(r,k)=>Object.prototype.hasOwnProperty.call(r,k),s.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},(()=>{var r={149:0};s.O.j=x=>r[x]===0;var k=(x,g)=>{var f,b,[S,I,C]=g,K=0;if(S.some(ee=>r[ee]!==0)){for(f in I)s.o(I,f)&&(s.m[f]=I[f]);if(C)var ce=C(s)}for(x&&x(g);K<S.length;K++)b=S[K],s.o(r,b)&&r[b]&&r[b][0](),r[b]=0;return s.O(ce)},l=p.webpackChunk_N_E=p.webpackChunk_N_E||[];l.forEach(k.bind(null,0)),l.push=k.bind(null,l.push.bind(l))})()})(),(p.webpackChunk_N_E=p.webpackChunk_N_E||[]).push([[907],{2:Xn,7:Wn,50:zn,92:Kn,252:Vn,424:Hn,501:Gn,897:Bn,940:$n,1049:Ln,1092:Fn,1251:jn,1279:Un,1411:Nn,1438:On,1489:Pn,1544:Dn,1562:qn,2058:ts,2178:Mn,2223:es,2295:An,2309:Tn,2409:Cn,2599:In,2625:Sn,2709:bn,2732:Rn,3050:wn,3144:En,3306:xn,3337:vn,3378:yn,3543:gn,3689:fn,3936:kn,4144:pn,4181:hn,4186:mn,4195:dn,4204:ln,4318:un,4319:_n,4337:on,4405:cn,4479:rn,4515:an,4819:sn,5103:nn,5293:tn,5375:en,5421:Zt,5455:Yt,5481:Qt,5565:Jt,5691:Xt,5835:Wt,5912:Zn,5932:zt,5951:Kt,6116:Vt,6129:Ht,6170:Gt,6225:Bt,6237:$t,6243:Lt,6464:Ft,6534:jt,6567:Ut,6640:Nt,6655:Ot,6764:Pt,6804:Dt,6937:qt,7205:Mt,7404:At,7411:Tt,7426:Ct,7472:It,7530:St,7612:Yn,7621:bt,7753:Rt,7779:wt,7855:Et,7903:xt,7935:vt,8062:yt,8108:gt,8137:ft,8343:kt,8429:pt,8622:ht,8730:mt,9005:dt,9055:lt,9062:ut,9079:_t,9143:ot,9382:it,9788:ct,9874:rt,9937:at}]),(p.webpackChunk_N_E=p.webpackChunk_N_E||[]).push([[178],{5356:Qn,5521:Jn,6487:st,7020:(y,v,s)=>{"use strict";s.r(v),s.d(v,{ComponentMod:()=>Ge,default:()=>He});var r,k={};s.r(k),s.d(k,{GET:()=>E,POST:()=>H,PUT:()=>D,runtime:()=>U});var l={};s.r(l),s.d(l,{handler:()=>Be,patchFetch:()=>$e,routeModule:()=>w,serverHooks:()=>Le,workAsyncStorage:()=>qe,workUnitAsyncStorage:()=>De});var x=s(8429),g=s(9874),f=s(2178),b=s(6567),S=s(4144),I=s(5421),C=s(8343),K=s(897),ce=s(7530),ee=s(2625),te=s(2732),X=s(5455),_e=s(6764),ie=s(3306),ue=s(3936),ge=s(3378),ne=s(3543),ye=s(1544),$=s(1489),B=s(9079);let U="edge";function e(a,n=null){console.log(`[Instagram API Debug] ${a}`,n?JSON.stringify(n,null,2):"")}async function m(a){try{let n=`https://graph.instagram.com/me?fields=id,username&access_token=${a}`,o=await fetch(n),u=await o.json();if(e("Token validation response:",u),!o.ok)throw Error(`Token validation failed: ${u.error?.message||"Unknown error"}`);return{valid:!0,data:u}}catch(n){return e("Token validation error:",n.message),{valid:!1,error:n.message}}}async function i(a){try{e("Fetching Instagram profile...");let n=`https://graph.instagram.com/me?fields=account_type,id,media_count,username&access_token=${a}`;e("Profile API URL:",n.replace(a,"[HIDDEN_TOKEN]"));let o=await fetch(n),u=await o.json();if(e("Profile API Response Status:",o.status),e("Profile API Response Data:",u),!o.ok)throw Error(`Profile fetch error: ${u.error?.message||"Unknown error"}`);return u}catch(n){throw e("Profile fetch error:",n.message),Error(`Error connecting to Instagram: ${n.message}`)}}async function c(a,n=25,o=null){try{e(`Fetching Instagram media - Limit: ${n}, After: ${o}`);let u=`https://graph.instagram.com/me/media?fields=id,caption,media_type,media_url,permalink,thumbnail_url,timestamp,username,children{id,media_type,media_url,thumbnail_url}&limit=${n}&access_token=${a}`;o&&(u+=`&after=${o}`),e("Media API URL:",u.replace(a,"[HIDDEN_TOKEN]"));let d=await fetch(u),_=await d.json();if(e("Media API Response Status:",d.status),e("Media API Response Headers:",Object.fromEntries(d.headers.entries())),e("Media API Raw Response:",_),!d.ok)throw e("Media API Error Details:",{status:d.status,statusText:d.statusText,error:_.error}),Error(`Media fetch error: ${_.error?.message||"Unknown error"}`);return e("Media fetch successful:",{dataCount:_.data?_.data.length:0,hasPaging:!!_.paging,pagingInfo:_.paging}),{data:_.data||[],paging:_.paging||{}}}catch(u){throw e("Media fetch error:",u.message),Error(`Error fetching Instagram posts: ${u.message}`)}}function T(a){return e("Formatting media data:",{mediaCount:a.length}),(Array.isArray(a)?a:[a]).map((n,o)=>{e(`Processing media item ${o+1}:`,{id:n.id,media_type:n.media_type,hasCaption:!!n.caption,hasMediaUrl:!!n.media_url,hasChildren:!!(n.children&&n.children.data)});let u=[];try{n.media_type==="CAROUSEL_ALBUM"&&n.children&&n.children.data?(e(`Processing carousel with ${n.children.data.length} items`),n.children.data.forEach((_,A)=>{e(`Carousel child ${A+1}:`,{id:_.id,media_type:_.media_type,hasMediaUrl:!!_.media_url,hasThumbnailUrl:!!_.thumbnail_url}),_.media_type==="IMAGE"?u.push(_.media_url):_.media_type==="VIDEO"&&_.thumbnail_url&&u.push(_.thumbnail_url)})):n.media_type==="IMAGE"?(e("Processing single image"),u.push(n.media_url)):n.media_type==="VIDEO"&&n.thumbnail_url&&(e("Processing video with thumbnail"),u.push(n.thumbnail_url));let d={id:n.id,titulo:function(_){if(!_||typeof _!="string")return"Post without title";let A=_.replace(/#\w+/g,"").replace(/@\w+/g,"").trim();if(A.length<=50)return A;let R=A.split(/[.!?]/)[0].trim();return R.length>0&&R.length<=50?R:A.substring(0,47).trim()+"..."}(n.caption),data:n.timestamp,legenda:n.caption||"",images:u,mediaType:n.media_type,mediaUrl:n.media_url,thumbnailUrl:n.thumbnail_url,permalink:n.permalink,username:n.username,isCarousel:n.media_type==="CAROUSEL_ALBUM"};return e(`Formatted item ${o+1}:`,{id:d.id,imageCount:d.images.length,hasTitle:!!d.titulo,mediaType:d.mediaType}),d}catch(d){return e(`Error processing media item ${o+1}:`,d.message),{id:n.id||"unknown",titulo:"Error processing post",data:n.timestamp||new Date().toISOString(),legenda:n.caption||"",images:[],mediaType:n.media_type||"unknown",mediaUrl:n.media_url||"",thumbnailUrl:n.thumbnail_url||"",permalink:n.permalink||"",username:n.username||"",isCarousel:!1,error:d.message}}})}async function E(a){try{e("=== Instagram API GET Request Started ===");let{searchParams:n}=new URL(a.url),o=n.get("id"),u=parseInt(n.get("limit"))||25,d=n.get("after");e("Request parameters:",{mediaId:o,limit:u,after:d});let _=process.env.INSTAGRAM_ACCESS_TOKEN;if(!_)return e("ERROR: Instagram Access Token not configured"),B.Rp.json({error:"Instagram Access Token not configured. Use token obtained via Instagram Login.",debug:{hasToken:!1,envVarsPresent:{INSTAGRAM_CLIENT_ID:!!process.env.INSTAGRAM_CLIENT_ID,INSTAGRAM_CLIENT_SECRET:!!process.env.INSTAGRAM_CLIENT_SECRET,INSTAGRAM_REDIRECT_URI:!!process.env.INSTAGRAM_REDIRECT_URI}}},{status:500});e("Access token present:",_.substring(0,10)+"...");let A=await m(_);if(!A.valid)return e("Token validation failed"),B.Rp.json({error:`Invalid access token: ${A.error}`,debug:{tokenValid:!1,tokenError:A.error}},{status:401});if(e("Token validation successful"),o){e(`Fetching specific media: ${o}`);try{let P=await G(o,_),J=T([P])[0];return e("Specific media fetch successful"),B.Rp.json(J)}catch(P){return e("Specific media fetch failed:",P.message),B.Rp.json({error:P.message,debug:{mediaId:o,tokenValid:!0}},{status:404})}}e("Fetching user profile...");let R=await i(_);e("Profile fetch successful:",{username:R.username,mediaCount:R.media_count,accountType:R.account_type}),e("Fetching media posts...");let M=await c(_,u,d);e("Media fetch completed:",{postsReturned:M.data.length,hasPaging:!!M.paging,nextPage:M.paging?.next});let F=T(M.data);e("Media formatting completed:",{formattedCount:F.length,postsWithImages:F.filter(P=>P.images.length>0).length,postsWithErrors:F.filter(P=>P.error).length});let z={profile:{id:R.id,username:R.username,accountType:R.account_type,mediaCount:R.media_count},posts:F,total:F.length,paging:M.paging,hasMore:!!M.paging.next,debug:{tokenValid:!0,profileFetched:!0,mediaFetched:!0,originalMediaCount:M.data.length,formattedMediaCount:F.length,accountMediaCount:R.media_count,requestParams:{limit:u,after:d}}};return e("=== Instagram API GET Request Completed Successfully ==="),B.Rp.json(z)}catch(n){return e("=== Instagram API GET Request Failed ==="),e("Final error:",n.message),console.error("Complete error stack:",n),B.Rp.json({error:`Error processing request: ${n.message}`,debug:{errorType:n.constructor.name,errorMessage:n.message,timestamp:new Date().toISOString()}},{status:500})}}async function G(a,n){try{e(`Fetching specific media: ${a}`);let o=`https://graph.instagram.com/${a}?fields=id,caption,media_type,media_url,permalink,thumbnail_url,timestamp,username,children{id,media_type,media_url,thumbnail_url}&access_token=${n}`;e("Specific media URL:",o.replace(n,"[HIDDEN_TOKEN]"));let u=await fetch(o),d=await u.json();if(e("Specific media response:",{status:u.status,data:d}),!u.ok)throw Error(`Error fetching media: ${d.error?.message||"Media not found"}`);return d}catch(o){throw e("Specific media fetch error:",o.message),Error(`Error fetching specific media: ${o.message}`)}}async function H(a){}async function D(a){}var j=s(5356).Buffer;let w=new b.AppRouteRouteModule({definition:{kind:S.A.APP_ROUTE,page:"/api/instagram/route",pathname:"/api/instagram",filename:"route",bundlePath:"app/api/instagram/route"},distDir:process.env.__NEXT_RELATIVE_DIST_DIR||"",projectDir:process.env.__NEXT_RELATIVE_PROJECT_DIR||"",resolvedPagePath:"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/src/app/api/instagram/route.js",nextConfigOutput:"",userland:k}),{workAsyncStorage:qe,workUnitAsyncStorage:De,serverHooks:Le}=w;function $e(){return(0,I.V5)({workAsyncStorage:qe,workUnitAsyncStorage:De})}async function Be(a,n,o){var u;let d="/api/instagram/route";d==="/index"&&(d="/");let _=await w.prepare(a,n,{srcPage:d,multiZoneDraftMode:"false"});if(!_)return n.statusCode=400,n.end("Bad Request"),o.waitUntil==null||o.waitUntil.call(o,Promise.resolve()),null;let{buildId:A,params:R,nextConfig:M,isDraftMode:F,prerenderManifest:z,routerServerContext:P,isOnDemandRevalidate:J,revalidateOnlyGenerated:Oe,resolvedPathname:xe}=_,Ee=(0,ce.Y)(d),W=!!(z.dynamicRoutes[Ee]||z.routes[xe]);if(W&&!F){let L=!!z.routes[xe],se=z.dynamicRoutes[Ee];if(se&&se.fallback===!1&&!L)throw new ye.G}let le=null;!W||w.isDev||F||(le=(le=xe)==="/index"?"/":le);let Ne=w.isDev===!0||!W,we=W&&!Ne,de=a.method||"GET",me=(0,K.EK)(),Re=me.getActiveScopeSpan(),O={params:R,prerenderManifest:z,renderOpts:{experimental:{dynamicIO:!!M.experimental.dynamicIO,authInterrupts:!!M.experimental.authInterrupts},supportsDynamicResponse:Ne,incrementalCache:(0,C.Ny)(a,"incrementalCache"),cacheLifeProfiles:(u=M.experimental)==null?void 0:u.cacheLife,isRevalidate:we,waitUntil:o.waitUntil,onClose:L=>{n.on("close",L)},onAfterTaskError:void 0,onInstrumentationRequestError:(L,se,V)=>w.onRequestError(a,L,V,P)},sharedContext:{buildId:A}},he=new ee.j(a),be=new ee.p(n),Ve=te.u_.fromNodeNextRequest(he,(0,te.SN)(n));try{let L=async V=>w.handle(Ve,O).finally(()=>{if(!V)return;V.setAttributes({"http.status_code":n.statusCode,"next.rsc":!1});let Q=me.getRootSpanAttributes();if(!Q)return;if(Q.get("next.span_type")!==X.Li.handleRequest)return void console.warn(`Unexpected root span type '${Q.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let Y=Q.get("next.route");if(Y){let pe=`${de} ${Y}`;V.setAttributes({"next.route":Y,"http.route":Y,"next.span_name":pe}),V.updateName(pe)}else V.updateName(`${de} ${a.url}`)}),se=async V=>{var Q,Y;let pe=async({previousCacheEntry:Se})=>{try{if(!(0,C.Ny)(a,"minimalMode")&&J&&Oe&&!Se)return n.statusCode=404,n.setHeader("x-nextjs-cache","REVALIDATED"),n.end("This page could not be found"),null;let Z=await L(V);a.fetchMetrics=O.renderOpts.fetchMetrics;let Ie=O.renderOpts.pendingWaitUntil;Ie&&o.waitUntil&&(o.waitUntil(Ie),Ie=void 0);let Ue=O.renderOpts.collectedTags;if(!W)return await(0,ie.I)(he,be,Z,O.renderOpts.pendingWaitUntil),null;{let Ce=await Z.blob(),fe=(0,ue.Cu)(Z.headers);Ue&&(fe[ne.VC]=Ue),!fe["content-type"]&&Ce.type&&(fe["content-type"]=Ce.type);let Ke=O.renderOpts.collectedRevalidate!==void 0&&!(O.renderOpts.collectedRevalidate>=ne.AR)&&O.renderOpts.collectedRevalidate,ze=O.renderOpts.collectedExpire===void 0||O.renderOpts.collectedExpire>=ne.AR?void 0:O.renderOpts.collectedExpire;return{value:{kind:$.yD.APP_ROUTE,status:Z.status,body:j.from(await Ce.arrayBuffer()),headers:fe},cacheControl:{revalidate:Ke,expire:ze}}}}catch(Z){throw Se?.isStale&&await w.onRequestError(a,Z,{routerKind:"App Router",routePath:d,routeType:"route",revalidateReason:(0,_e.c)({isRevalidate:we,isOnDemandRevalidate:J})},P),Z}},N=await w.handleResponse({req:a,nextConfig:M,cacheKey:le,routeKind:S.A.APP_ROUTE,isFallback:!1,prerenderManifest:z,isRoutePPREnabled:!1,isOnDemandRevalidate:J,revalidateOnlyGenerated:Oe,responseGenerator:pe,waitUntil:o.waitUntil});if(!W)return null;if((N==null||(Q=N.value)==null?void 0:Q.kind)!==$.yD.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${N==null||(Y=N.value)==null?void 0:Y.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,C.Ny)(a,"minimalMode")||n.setHeader("x-nextjs-cache",J?"REVALIDATED":N.isMiss?"MISS":N.isStale?"STALE":"HIT"),F&&n.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let ke=(0,ue.p$)(N.value.headers);return(0,C.Ny)(a,"minimalMode")&&W||ke.delete(ne.VC),!N.cacheControl||n.getHeader("Cache-Control")||ke.get("Cache-Control")||ke.set("Cache-Control",(0,ge.B)(N.cacheControl)),await(0,ie.I)(he,be,new Response(N.value.body,{headers:ke,status:N.value.status||200})),null};Re?await se(Re):await me.withPropagatedContext(a.headers,()=>me.trace(X.Li.handleRequest,{spanName:`${de} ${a.url}`,kind:K.v8.SERVER,attributes:{"http.method":de,"http.target":a.url}},se))}catch(L){if(Re||await w.onRequestError(a,L,{routerKind:"App Router",routePath:Ee,routeType:"route",revalidateReason:(0,_e.c)({isRevalidate:we,isOnDemandRevalidate:J})}),W)throw L;return await(0,ie.I)(he,be,new Response(null,{status:500})),null}}let Pe=(r=p.__RSC_MANIFEST)==null?void 0:r["/api/instagram/route"],ve=(a=>a?JSON.parse(a):void 0)(p.__RSC_SERVER_MANIFEST);Pe&&ve&&(0,g.fQ)({page:"/api/instagram/route",clientReferenceManifest:Pe,serverActionsManifest:ve,serverModuleMap:(0,x.e)({serverActionsManifest:ve})});let Ge=l,He=f.s.wrap(w,{nextConfig:{env:{},webpack:null,eslint:{ignoreDuringBuilds:!0},typescript:{ignoreBuildErrors:!0,tsconfigPath:"tsconfig.json"},distDir:".next",cleanDistDir:!0,assetPrefix:"",cacheMaxMemorySize:52428800,configOrigin:"next.config.ts",useFileSystemPublicRoutes:!0,generateEtags:!0,pageExtensions:["tsx","ts","jsx","js"],poweredByHeader:!0,compress:!0,images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",remotePatterns:[],unoptimized:!1},devIndicators:{position:"bottom-left"},onDemandEntries:{maxInactiveAge:6e4,pagesBufferLength:5},amp:{canonicalBase:""},basePath:"",sassOptions:{},trailingSlash:!1,i18n:null,productionBrowserSourceMaps:!1,excludeDefaultMomentLocales:!0,serverRuntimeConfig:{},publicRuntimeConfig:{},reactProductionProfiling:!1,reactStrictMode:null,reactMaxHeadersLength:6e3,httpAgentOptions:{keepAlive:!0},logging:{},compiler:{},expireTime:31536e3,staticPageGenerationTimeout:60,modularizeImports:{"@mui/icons-material":{transform:"@mui/icons-material/{{member}}"},lodash:{transform:"lodash/{{member}}"}},outputFileTracingRoot:"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack",experimental:{useSkewCookie:!1,nodeMiddleware:!1,cacheLife:{default:{stale:300,revalidate:900,expire:4294967294},seconds:{stale:0,revalidate:1,expire:60},minutes:{stale:300,revalidate:60,expire:3600},hours:{stale:300,revalidate:3600,expire:86400},days:{stale:300,revalidate:86400,expire:604800},weeks:{stale:300,revalidate:604800,expire:2592e3},max:{stale:300,revalidate:2592e3,expire:4294967294}},cacheHandlers:{},cssChunking:!0,multiZoneDraftMode:!1,appNavFailHandling:!1,prerenderEarlyExit:!0,serverMinification:!0,serverSourceMaps:!1,linkNoTouchStart:!1,caseSensitiveRoutes:!1,clientSegmentCache:!1,dynamicOnHover:!1,preloadEntriesOnStart:!0,clientRouterFilter:!0,clientRouterFilterRedirects:!1,fetchCacheKeyPrefix:"",middlewarePrefetch:"flexible",optimisticClientCache:!0,manualClientBasePath:!1,cpus:11,memoryBasedWorkersCount:!1,imgOptConcurrency:null,imgOptTimeoutInSeconds:7,imgOptMaxInputPixels:268402689,imgOptSequentialRead:null,isrFlushToDisk:!0,workerThreads:!1,optimizeCss:!1,nextScriptWorkers:!1,scrollRestoration:!1,externalDir:!1,disableOptimizedLoading:!1,gzipSize:!0,craCompat:!1,esmExternals:!0,fullySpecified:!1,swcTraceProfiling:!1,forceSwcTransforms:!1,largePageDataBytes:128e3,typedRoutes:!1,typedEnv:!1,parallelServerCompiles:!1,parallelServerBuildTraces:!1,ppr:!1,authInterrupts:!1,webpackMemoryOptimizations:!1,optimizeServerReact:!0,viewTransition:!1,routerBFCache:!1,removeUncaughtErrorAndRejectionListeners:!1,validateRSCRequestHeaders:!1,staleTimes:{dynamic:0,static:300},serverComponentsHmrCache:!0,staticGenerationMaxConcurrency:8,staticGenerationMinPagesPerWorker:25,dynamicIO:!1,inlineCss:!1,useCache:!1,globalNotFound:!1,devtoolNewPanelUI:!1,devtoolSegmentExplorer:!1,browserDebugInfoInTerminal:!1,optimizeRouterScrolling:!1,strictNextHead:!0,trustHostHeader:!0,optimizePackageImports:["lucide-react","date-fns","lodash-es","ramda","antd","react-bootstrap","ahooks","@ant-design/icons","@headlessui/react","@headlessui-float/react","@heroicons/react/20/solid","@heroicons/react/24/solid","@heroicons/react/24/outline","@visx/visx","@tremor/react","rxjs","@mui/material","@mui/icons-material","recharts","react-use","effect","@effect/schema","@effect/platform","@effect/platform-node","@effect/platform-browser","@effect/platform-bun","@effect/sql","@effect/sql-mssql","@effect/sql-mysql2","@effect/sql-pg","@effect/sql-sqlite-node","@effect/sql-sqlite-bun","@effect/sql-sqlite-wasm","@effect/sql-sqlite-react-native","@effect/rpc","@effect/rpc-http","@effect/typeclass","@effect/experimental","@effect/opentelemetry","@material-ui/core","@material-ui/icons","@tabler/icons-react","mui-core","react-icons/ai","react-icons/bi","react-icons/bs","react-icons/cg","react-icons/ci","react-icons/di","react-icons/fa","react-icons/fa6","react-icons/fc","react-icons/fi","react-icons/gi","react-icons/go","react-icons/gr","react-icons/hi","react-icons/hi2","react-icons/im","react-icons/io","react-icons/io5","react-icons/lia","react-icons/lib","react-icons/lu","react-icons/md","react-icons/pi","react-icons/ri","react-icons/rx","react-icons/si","react-icons/sl","react-icons/tb","react-icons/tfi","react-icons/ti","react-icons/vsc","react-icons/wi"]},htmlLimitedBots:"Mediapartners-Google|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti",bundlePagesRouterDependencies:!1,configFile:"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack/next.config.ts",configFileName:"next.config.ts",turbopack:{root:"/mnt/c/Users/win/Desktop/arquivos_secretos/cerqueira-fullstack"}}})},8335:nt},y=>{y.O(0,[907],()=>y(y.s=7020));var v=y.O();(h._ENTRIES=typeof h._ENTRIES>"u"?{}:h._ENTRIES)["middleware_app/api/instagram/route"]=v}]),function(){let y={exports:{},loaded:!1};return function(s,r){var k=Object.create,l=Object.defineProperty,x=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,f=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,S=e=>l(e,"__esModule",{value:!0}),I=(e,m)=>{S(e);for(var i in m)l(e,i,{get:m[i],enumerable:!0})},C=(e,m,i)=>{if(m&&typeof m=="object"||typeof m=="function")for(let c of g(m))!b.call(e,c)&&c!=="default"&&l(e,c,{get:()=>m[c],enumerable:!(i=x(m,c))||i.enumerable});return e},K=e=>C(S(l(e!=null?k(f(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);I(r,{default:()=>ye});var ce=K((Fe(),Ye(oe))),ee="@next/request-context",te=Symbol.for(ee),X=Symbol.for("internal.storage");function _e(){let e=h;if(!e[te]){let m=new ce.AsyncLocalStorage,i={get:()=>m.getStore(),[X]:m};e[te]=i}return e[te]}var ie=_e();function ue(e,m){return ie[X].run(e,m)}function ge(e){let m={};return e&&e.forEach((i,c)=>{m[c]=i,c.toLowerCase()==="set-cookie"&&(m[c]=ne(i))}),m}function ne(e){let m=[],i=0,c,T,E,G,H;function D(){for(;i<e.length&&/\s/.test(e.charAt(i));)i+=1;return i<e.length}function j(){return T=e.charAt(i),T!=="="&&T!==";"&&T!==","}for(;i<e.length;){for(c=i,H=!1;D();)if(T=e.charAt(i),T===","){for(E=i,i+=1,D(),G=i;i<e.length&&j();)i+=1;i<e.length&&e.charAt(i)==="="?(H=!0,i=G,m.push(e.substring(c,E)),c=i):i=E+1}else i+=1;(!H||i>=e.length)&&m.push(e.substring(c,e.length))}return m}function ye(e){let m=e.staticRoutes.map(c=>({regexp:new RegExp(c.namedRegex),page:c.page})),i=e.dynamicRoutes?.map(c=>({regexp:new RegExp(c.namedRegex),page:c.page}))||[];return async function(c,T){let E=new URL(c.url).pathname,G={};if(e.nextConfig?.basePath&&E.startsWith(e.nextConfig.basePath)&&(E=E.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let D of e.nextConfig.i18n.locales){let j=new RegExp(`^/${D}($|/)`,"i");if(E.match(j)){E=E.replace(j,"/")||"/";break}}for(let D of m)if(D.regexp.exec(E)){G.name=D.page;break}if(!G.name){let D=B(E);for(let j of i||[]){if(D&&!B(j.page))continue;let w=j.regexp.exec(E);if(w){G={name:j.page,params:w.groups};break}}}let H=await ue({waitUntil:T.waitUntil},()=>h._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:c.url,method:c.method,headers:ge(c.headers),ip:$(c.headers,U.Ip),geo:{city:$(c.headers,U.City,!0),country:$(c.headers,U.Country,!0),latitude:$(c.headers,U.Latitude),longitude:$(c.headers,U.Longitude),region:$(c.headers,U.Region,!0)},nextConfig:e.nextConfig,page:G,body:c.body}}));return H.waitUntil&&T.waitUntil(H.waitUntil),H.response}}function $(e,m,i=!1){let c=e.get(m)||void 0;return i&&c?decodeURIComponent(c):c}function B(e){return e==="/api"||e.startsWith("/api/")}var U;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(U||(U={}))}(y,y.exports),y.exports}.call({}).default({name:"app/api/instagram/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/blog",regex:"^/blog(?:/)?$",routeKeys:{},namedRegex:"^/blog(?:/)?$"},{page:"/especialidades",regex:"^/especialidades(?:/)?$",routeKeys:{},namedRegex:"^/especialidades(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"}],dynamicRoutes:[],nextConfig:{basePath:""}})))(q,q,q);export{us as default};
